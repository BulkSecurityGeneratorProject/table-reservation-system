<div class="row justify-content-center">
    <div class="col-md-4">
        <form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm">
            <h2 id="jhi-hotel-heading">Create or edit a Hotel</h2>
            <div>
                <jhi-alert-error></jhi-alert-error>
                <!-- <div class="form-group" [hidden]="!hotel.id">
                    <label for="id">ID</label>
                    <input type="text" class="form-control" id="id" name="id"
                        [(ngModel)]="hotel.id" readonly />
                </div> -->
                <div class="form-group">
                    <label [hidden]="hotel.id" class="form-control-label" for="field_image">Image</label>
                    <div>
                        <img [src]="'data:' + hotel.imageContentType + ';base64,' + hotel.image" style="max-height: 100px;" *ngIf="hotel.image" alt="hotel image"/>
                        <!-- <div *ngIf="hotel.image" class="form-text text-danger clearfix">
                            <span class="pull-left">{{hotel.imageContentType}}, {{byteSize(hotel.image)}}</span>
                            <button type="button" (click)="clearInputImage('image', 'imageContentType', 'fileImage')" class="btn btn-secondary btn-xs pull-right">
                                <fa-icon [icon]="'times'"></fa-icon>
                            </button>
                        </div> -->
                        <input type="file" id="file_image" (change)="setFileData($event, hotel, 'image', true)" accept="image/*"/>
                    </div>
                    <input type="hidden" class="form-control" name="image" id="field_image"
                        [(ngModel)]="hotel.image" />
                    <input type="hidden" class="form-control" name="imageContentType" id="field_imageContentType"
                        [(ngModel)]="hotel.imageContentType" />
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_name">Hotel Name</label>
                    <input type="text" class="form-control" name="name" id="field_name"
                        [(ngModel)]="hotel.name" required/>
                    <div [hidden]="!(editForm.controls.name?.dirty && editForm.controls.name?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.name?.errors?.required">
                        This field is required.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_type">Type</label>
                    <input type="text" class="form-control" name="type" id="field_type"
                        [(ngModel)]="hotel.type" required/>
                    <div [hidden]="!(editForm.controls.type?.dirty && editForm.controls.type?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.type?.errors?.required">
                        This field is required.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_openTime">Open Time</label>
                    <div class="d-flex">
                        <input id="field_openTime" type="datetime-local" class="form-control" name="openTime" [(ngModel)]="openTime"
                        required/>
                    </div>
                    <div [hidden]="!(editForm.controls.openTime?.dirty && editForm.controls.openTime?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.openTime?.errors?.required">
                        This field is required.
                        </small>
                        <small class="form-text text-danger"
                            [hidden]="!editForm.controls.openTime?.errors?.ZonedDateTimelocal">
                            This field should be a date and time.
                        </small>    
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_closeTime">Close Time</label>
                    <div class="d-flex">
                        <input id="field_closeTime" type="datetime-local" class="form-control" name="closeTime" [(ngModel)]="closeTime"
                        required/>
                    </div>
                    <div [hidden]="!(editForm.controls.closeTime?.dirty && editForm.controls.closeTime?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.closeTime?.errors?.required">
                        This field is required.
                        </small>
                        <small class="form-text text-danger"
                            [hidden]="!editForm.controls.closeTime?.errors?.ZonedDateTimelocal">
                            This field should be a date and time.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_city">City</label>
                    <input type="text" class="form-control" name="city" id="field_city"
                        [(ngModel)]="hotel.city" required/>
                    <div [hidden]="!(editForm.controls.city?.dirty && editForm.controls.city?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.city?.errors?.required">
                        This field is required.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_address">Address</label>
                    <input type="text" class="form-control" name="address" id="field_address"
                        [(ngModel)]="hotel.address" required/>
                    <div [hidden]="!(editForm.controls.address?.dirty && editForm.controls.address?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.address?.errors?.required">
                        This field is required.
                        </small>
                    </div>
                </div>
                <div class="form-group" [hidden]="hotel.id">
                        <label class="form-control-label" for="field_staffInRushHour" style="margin-right: 2%">How many Table handle in Rush Hours (per staff member)</label>
                        <input type="number" class="form-control" name="staffInRushHour" id="field_staffInRushHour" min="1" [(ngModel)]="hotel.staffInRushHour"
                        required>
                        <div [hidden]="!(editForm.controls.staffInRushHour?.dirty && editForm.controls.staffInRushHour?.invalid)">
                            <small class="form-text text-danger"
                            [hidden]="!editForm.controls.staffInRushHour?.errors?.required">
                            This field is required.
                            </small>
                            <small class="form-text text-danger"
                            [hidden]="!editForm.controls.staffInRushHour?.errors?.min">
                            Rush hour value must be greater than 0
                            </small>
                        </div>
                   
                </div>
                <div class="form-group" [hidden]="hotel.id">
                        <label class="form-control-label" for="field_staffInNormal" style="margin-right: 2%">How many Table handle in normal Hours (per staff member)</label>
                        <input type="number" class="form-control" name="staffInNormal" id="field_staffInNormal" min="1" [(ngModel)]="hotel.staffInNormal"
                        required/>
                        <div [hidden]="!(editForm.controls.staffInNormal?.dirty && editForm.controls.staffInNormal?.invalid)">
                            <small class="form-text text-danger"
                            [hidden]="!editForm.controls.staffInNormal?.errors?.required">
                            This field is required.
                            </small>
                        </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_pincode">Pincode</label>
                    <input type="text" class="form-control" name="pincode" id="field_pincode"
                        [(ngModel)]="hotel.pincode" required maxlength="6"/>
                    <div [hidden]="!(editForm.controls.pincode?.dirty && editForm.controls.pincode?.invalid)">
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.pincode?.errors?.required">
                        This field is required.
                        </small>
                        <small class="form-text text-danger"
                        [hidden]="!editForm.controls.pincode?.errors?.maxlength">
                        This field cannot be longer than 6 characters.
                        </small>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="field_description">Description</label>
                    <input type="text" class="form-control" name="description" id="field_description"
                        [(ngModel)]="hotel.description" />
                </div>

            </div>
            <div>
                <button type="button" id="cancel-save" class="btn btn-secondary"  (click)="previousState()">
                    <fa-icon [icon]="'ban'"></fa-icon>&nbsp;<span>Cancel</span>
                </button>
                <button type="submit" id="save-entity" [disabled]="editForm.form.invalid || isSaving || hotel.staffInRushHour < 1 || hotel.staffInNormal < 1" class="btn btn-primary">
                    <fa-icon [icon]="'save'"></fa-icon>&nbsp;<span>Save</span>
                </button>
            </div>
        </form>
    </div>
    <div class="col-md-6" [hidden]="!hotel.id">
            <div class="card">
                    <div class="card-header">
                     Table Management setting
                    </div>
                    <div class="card-body">
                            <div class="row">
                                    <div class="col-8">
                                        <span>Total no of Staff Present :</span>
                                    </div>
                                    <div class="col align-self-end">
                                        <input type="number" class="form-control"  [(ngModel)]="staffLength" disabled/>

                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-8">
                                          
                                        <span>Total no of Table :</span>
                                    </div>
                                    <div class="col align-self-end">
                                        <input type="number" class="form-control"  [(ngModel)]="tableLength" disabled/>

                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-8">
                                        <label class="form-control-label" for="field_staffInRushHour" style="margin-right: 2%">How many Table handle in Rush Hours (per staff member)</label>
                                    </div>
                                    <div class="col">
                                        <input type="number" class="form-control" name="staffInRushHour" id="field_staffInRushHour" min="1" [(ngModel)]="hotel.staffInRushHour"
                                        />
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-8">
                                        <label class="form-control-label" for="field_staffInNormal" style="margin-right: 2%">How many Table handle in normal Hours (per staff member)</label>
                                    </div>
                                    <div class="col">
                                        <input type="number" class="form-control" name="staffInNormal" id="field_staffInNormal" min="1" [(ngModel)]="hotel.staffInNormal"
                                        />
                                    </div>
                                
                                </div>
                                <hr>
                                    <div class="row">
                                            <div class="col-8">
                                                    <span>Total no. of table handle in rush hours :</span>
                                                </div>
                                                <div class="col align-self-end">
                                                        <input type="text" class="form-control"  value="{{staffLength}} * {{hotel.staffInRushHour}} = {{staffLength * hotel.staffInRushHour}}" disabled/>
                                                </div>
                                    </div>           
                                     <hr> 
                                     <div class="row">
                                            <div class="col-8">
                                                    <span> Total no. of table handle in normal hours :</span>
                                                </div>
                                                <div class="col align-self-end">
                                                        <input type="text" class="form-control"  value="{{staffLength}} * {{hotel.staffInNormal}} = {{staffLength * hotel.staffInNormal}} " disabled/>
                                                </div>
                                    </div> 
                    </div>
                  </div>
            
        <h2>Tables</h2>
        <div class="table-responsive" *ngIf="hotelTables" style="max-height: 240px  ">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>
                            <span>Number</span>
                        </th>
                        <th>
                            <span>Customers</span>
                        </th>
                        <th>
                            <span>Status</span>
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let hotelTable of hotelTables ;">
                        <td>{{hotelTable.tableNumber}}</td>
                        <td>{{hotelTable.noOfCustomer}}</td>
                        <td>{{hotelTable.status}}</td>
                        <td class="text-right">
                            <div class="btn-group flex-btn-group-container">
                                <button type="submit" [routerLink]="['/hotel-table', hotelTable.id, 'view' ]" class="btn btn-info btn-sm">
                                    <fa-icon [icon]="'eye'"></fa-icon>
                                    <!-- <span class="d-none d-md-inline">View</span> -->
                                </button>
                                <button type="submit" [routerLink]="['/hotel-table', hotelTable.id, 'edit']" class="btn btn-primary btn-sm">
                                    <fa-icon [icon]="'pencil-alt'"></fa-icon>
                                    <!-- <span class="d-none d-md-inline">Edit</span> -->
                                </button>
                                <button type="submit" [routerLink]="['/', { outlets: { popup: 'hotel-table/'+ hotelTable.id + '/delete'} }]" replaceUrl="true"
                                    queryParamsHandling="merge" class="btn btn-danger btn-sm">
                                    <fa-icon [icon]="'times'"></fa-icon>
                                    <!-- <span class="d-none d-md-inline">Delete</span> -->
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    
        <h2>Staff</h2>
        <div class="table-responsive" *ngIf="staff" style="max-height: 240px">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>
                            <span>Name</span>
                        </th>
                        <th>
                            <span>Contact No</span>
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let staff of staff ;">
                        <td>{{staff.name}}</td>
                        <td>{{staff.contactNo}}</td>
                        <td class="text-right">
                            <div class="btn-group flex-btn-group-container">
                                <button type="submit" [routerLink]="['/staff', staff.id, 'view' ]" class="btn btn-info btn-sm">
                                    <fa-icon [icon]="'eye'"></fa-icon>
                                    <!-- <span class="d-none d-md-inline">View</span> -->
                                </button>
                                <button type="submit" [routerLink]="['/staff', staff.id, 'edit']" class="btn btn-primary btn-sm">
                                    <fa-icon [icon]="'pencil-alt'"></fa-icon>
                                    <!-- <span class="d-none d-md-inline">Edit</span> -->
                                </button>
                                <button type="submit" [routerLink]="['/', { outlets: { popup: 'staff/'+ staff.id + '/delete'} }]" replaceUrl="true" queryParamsHandling="merge"
                                    class="btn btn-danger btn-sm">
                                    <fa-icon [icon]="'times'"></fa-icon>
                                    <!-- <span class="d-none d-md-inline">Delete</span> -->
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2>Cuisine</h2>
        <div class="table-responsive" *ngIf="cuisines">
            <table class="table table-hover">
                <thead>
                    <tr>
                <th><span>Name</span> </th>
                <th><span>Price</span></th>
                <th><span>Type</span></th>
                <th></th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let cuisine of cuisines ;">
                    <td>{{cuisine.name}}</td>
                    <td>{{cuisine.price}}</td>
                    <td>{{cuisine.type}}</td>
                    <td class="text-right">
                        <div class="btn-group flex-btn-group-container">
                            <button type="submit"
                                    [routerLink]="['/cuisine', cuisine.id, 'view' ]"
                                    class="btn btn-info btn-sm">
                                <fa-icon [icon]="'eye'"></fa-icon>
                            </button>
                            <button type="submit"
                                    [routerLink]="['/cuisine', cuisine.id, 'edit']"
                                    class="btn btn-primary btn-sm">
                                <fa-icon [icon]="'pencil-alt'"></fa-icon>
                            </button>
                            <button type="submit"
                                    [routerLink]="['/', { outlets: { popup: 'cuisine/'+ cuisine.id + '/delete'} }]"
                                    replaceUrl="true"
                                    queryParamsHandling="merge"
                                    class="btn btn-danger btn-sm">
                                <fa-icon [icon]="'times'"></fa-icon>
                            </button>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
